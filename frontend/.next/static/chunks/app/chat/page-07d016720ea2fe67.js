(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[929],{4167:function(e,t,r){Promise.resolve().then(r.bind(r,9689))},9689:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var a=r(3827),n=r(4090),s=r(826),l=r(5754),o=r(5179),i=r(7815);function d(){let[e,t]=(0,n.useState)([]),[r,d]=(0,n.useState)(""),[c,u]=(0,n.useState)(!1),f=(0,n.useRef)(null);async function g(){if(!r.trim())return;let e={role:"user",text:r};t(t=>[...t,e]),d(""),u(!0);try{let r=await (0,s.S)("/api/agent/chat",{method:"POST",body:JSON.stringify({message:e.text})});t(e=>[...e,{role:"agent",text:r.summary||r.response||"No response"}])}catch(e){t(e=>[...e,{role:"agent",text:"Error: Could not fetch response."}])}finally{u(!1)}}return(0,n.useEffect)(()=>{var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]),(0,a.jsxs)(i.Zb,{className:"flex flex-col h-[600px]",children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{children:"AI Trading Assistant"})}),(0,a.jsxs)(i.aY,{className:"flex-1 overflow-y-auto space-y-4 p-4",children:[e.map((e,t)=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsx)("div",{className:"max-w-[80%] rounded-lg px-4 py-2 ".concat("user"===e.role?"bg-blue-600 text-white":"bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-gray-100"),children:e.text})},t)),c&&(0,a.jsx)("div",{className:"text-sm text-gray-500 italic",children:"AI is thinking..."}),(0,a.jsx)("div",{ref:f})]}),(0,a.jsxs)("div",{className:"p-4 border-t flex gap-2",children:[(0,a.jsx)(o.I,{value:r,onChange:e=>d(e.target.value),onKeyDown:e=>"Enter"===e.key&&g(),placeholder:"Ask for analysis or trade ideas..."}),(0,a.jsx)(l.z,{onClick:g,disabled:c,children:"Send"})]})]})}},5754:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var a=r(3827),n=r(4090),s=r(1657);let l=n.forwardRef((e,t)=>{let{className:r,variant:n="default",size:l="default",...o}=e;return(0,a.jsx)("button",{className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-slate-900 text-white hover:bg-slate-800 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90":"default"===n,"bg-red-500 text-white hover:bg-red-600 dark:bg-red-900 dark:text-red-50 dark:hover:bg-red-900/90":"destructive"===n,"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50":"outline"===n,"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80":"secondary"===n,"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50":"ghost"===n,"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50":"link"===n},{"h-10 px-4 py-2":"default"===l,"h-9 rounded-md px-3":"sm"===l,"h-11 rounded-md px-8":"lg"===l,"h-10 w-10":"icon"===l},r),ref:t,...o})});l.displayName="Button"},7815:function(e,t,r){"use strict";r.d(t,{Ol:function(){return o},Zb:function(){return l},aY:function(){return d},ll:function(){return i}});var a=r(3827),n=r(4090),s=r(1657);let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm bg-white dark:bg-slate-900 dark:border-slate-800",r),...n})});l.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...n})});o.displayName="CardHeader";let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});i.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...n})});d.displayName="CardContent"},5179:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var a=r(3827),n=r(4090),s=r(1657);let l=n.forwardRef((e,t)=>{let{className:r,type:n,...l}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",r),ref:t,...l})});l.displayName="Input"},826:function(e,t,r){"use strict";r.d(t,{S:function(){return n}});let a=r(9079).env.NEXT_PUBLIC_API_URL||"http://localhost:8000";async function n(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={"Content-Type":"application/json",...(t=localStorage.getItem("token"))?{Authorization:"Bearer ".concat(t)}:{},...r.headers},s=await fetch("".concat(a).concat(e),{...r,headers:n});if(401===s.status)throw localStorage.removeItem("token"),window.location.href="/login",Error("Unauthorized");if(!s.ok)throw Error(await s.text()||"API Error: ".concat(s.statusText));return s.json()}},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return s}});var a=r(3167),n=r(1367);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,a.W)(t))}}},function(e){e.O(0,[658,971,69,744],function(){return e(e.s=4167)}),_N_E=e.O()}]);